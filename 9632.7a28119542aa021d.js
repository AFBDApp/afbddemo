"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[9632],{9632:(ye,L,f)=>{f.r(L),f.d(L,{MessagesDemoModule:()=>we});var V=f(6814),M=f(2129),k=f(905),h=f(9467);let I=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=h.oAB({type:i});static#i=this.\u0275inj=h.cJS({imports:[M.Bz.forChild([{path:"",component:k.j}]),M.Bz]})}return i})();var H=f(9502),R=f(2591),z=f(2736),N=f(3823),Z=f(8468);let j=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=h.oAB({type:i});static \u0275inj=h.cJS({imports:[V.ez,R.n,N.u,Z.x,z.L]})}return i})();var G=f(707),U=f(4104),J=f(3714),Y=f(2947),m=f(5861),W=f(95),D=function(i){return i[i.DISABLE=0]="DISABLE",i[i.ENABLE=1]="ENABLE",i[i.ENABLE_FORMS=2]="ENABLE_FORMS",i[i.ENABLE_STORAGE=3]="ENABLE_STORAGE",i}(D||{});const ne=!(typeof window>"u"||!globalThis.MSInputMethodContext||!document.documentMode),re=typeof navigator>"u"||/Edge\/\d./i.test(navigator.userAgent),ae=typeof ReadableStream>"u"||typeof Promise.allSettled>"u";function S(i){return i?.includes("bleeding-edge")?"4.7.701":"4.7.702"}function b(i,r=""){return i.includes("://")?i:`./${i+r}`}const u={needsES5:ne||re||ae,annotationEditorMode:0,annotationMode:D.ENABLE_FORMS,defaultZoomDelay:400,cursorToolOnLoad:0,defaultUrl:"",defaultZoomValue:"",disableHistory:!1,disablePageLabels:!1,enablePermissions:!1,docBaseUrl:"",enablePrintAutoRotate:!0,externalLinkRel:"noopener noreferrer nofollow",externalLinkTarget:0,findController:void 0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,imageResourcesPath:"./images/",maxCanvasPixels:-1,forcePageColors:!1,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:!1,printResolution:150,rangeChunkSize:65536,removePageBorders:!1,enableXfa:!0,fontExtraProperties:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,viewOnLoad:0,cMapPacked:!0,cMapUrl:function(){return`${b(u.assetsFolder,"/..")}/cmaps/`},disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!0,isEvalSupported:!0,isOffscreenCanvasSupported:!0,maxImageSize:-1,pdfBug:!1,verbosity:1,workerPort:null,assetsFolder:"assets",_internalFilenameSuffix:".min",sandboxBundleSrc:function(){return u.needsES5?`./pdf.sandbox-${S(b(u.assetsFolder))}-es5.mjs`:`./pdf.sandbox-${S(b(u.assetsFolder))}${u._internalFilenameSuffix}.mjs`},workerSrc:function(){return u.needsES5?`${b(u.assetsFolder)}/pdf.worker-${S(b(u.assetsFolder))}-es5.mjs`:`${b(u.assetsFolder)}/pdf.worker-${S(b(u.assetsFolder))}${u._internalFilenameSuffix}.mjs`},standardFontDataUrl:()=>`${b(u.assetsFolder,"/..")}/standard_fonts/`,doubleTapZoomFactor:"page-width",doubleTapZoomsInHandMode:!0,doubleTapZoomsInTextSelectionMode:!1,doubleTapResetsZoomOnSecondDoubleTap:!1,enableScripting:!0,defaultCacheSize:50,passwordPrompt:void 0,enableHWA:!0};let fe=(()=>{class i{onPDFJSInitSignal=(0,h.tdS)(void 0);pdfjsVersion=S(u.assetsFolder);constructor(){(0,h.cEC)(()=>{this.onPDFJSInitSignal()&&(this.pdfjsVersion=S(u.assetsFolder))})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),he=(()=>{class i{rendererFactory;ngxExtendedPdfViewerInitialized=!1;secondaryMenuIsEmpty=!1;renderer;PDFViewerApplication;constructor(e,t){this.rendererFactory=e,this.renderer=this.rendererFactory.createRenderer(null,null),(0,h.cEC)(()=>{this.PDFViewerApplication=t.onPDFJSInitSignal()})}find(e,t={}){if(this.ngxExtendedPdfViewerInitialized){if(!t.useSecondaryFindcontroller){const d=document.getElementById("findHighlightAll");d&&(d.checked=t.highlightAll??!1);const p=document.getElementById("findMatchCase");p&&(p.checked=t.matchCase??!1);const l=document.getElementById("findMultiple");l&&(l.checked=t.findMultiple??!1);const s=document.getElementById("findEntireWord");s&&(s.checked=t.wholeWords??!1);const c=document.getElementById("findMatchDiacritics");c&&(c.checked=t.matchDiacritics??!1);const g=document.getElementById("matchRegExp");g&&(g.checked=t.regexp??!1,g.checked&&(l&&(l.checked=!1),s&&(s.checked=!1),c&&(c.checked=!1)),l&&(l.disabled=g.checked),s&&(s.disabled=g.checked),c&&(c.disabled=g.checked));const A=document.getElementById("findInput");A&&"string"==typeof e&&(A.value=e)}const o={caseSensitive:t.matchCase??!1,entireWord:t.wholeWords??!1,highlightAll:t.highlightAll??!1,matchDiacritics:t.matchDiacritics??!1,findMultiple:t.findMultiple,matchRegExp:t.regexp??!1,findPrevious:!1,query:e,source:null,type:"find",dontScrollIntoView:t.dontScrollIntoView??!1};return(t.useSecondaryFindcontroller?this.PDFViewerApplication?.customFindController:this.PDFViewerApplication?.findController)?.ngxFind(o)}console.error("The PDF viewer hasn't finished initializing. Please call find() later.")}findNext(e=!1){return this.ngxExtendedPdfViewerInitialized?((e?this.PDFViewerApplication?.customFindController:this.PDFViewerApplication?.findController)?.ngxFindNext(),!0):(console.error("The PDF viewer hasn't finished initializing. Please call findNext() later."),!1)}findPrevious(e=!1){return this.ngxExtendedPdfViewerInitialized?((e?this.PDFViewerApplication?.customFindController:this.PDFViewerApplication?.findController)?.ngxFindPrevious(),!0):(console.error("The PDF viewer hasn't finished initializing. Please call findPrevious() later."),!1)}print(e){this.PDFViewerApplication&&(void 0!==this.PDFViewerApplication?.PDFPrintServiceFactory?.isInPDFPrintRange||(e||(e={}),this.setPrintRange(e),this.PDFViewerApplication?.printPdf(),this.PDFViewerApplication?.eventBus.on("afterprint",this.removePrintRange.bind(this),{once:!0})))}removePrintRange(){this.PDFViewerApplication?.PDFPrintServiceFactory&&(delete this.PDFViewerApplication.PDFPrintServiceFactory.isInPDFPrintRange,delete this.PDFViewerApplication.PDFPrintServiceFactory.filteredPageCount)}setPrintRange(e){this.PDFViewerApplication?.PDFPrintServiceFactory?(this.PDFViewerApplication.PDFPrintServiceFactory.isInPDFPrintRange=t=>this.isInPDFPrintRange(t,e),this.PDFViewerApplication.PDFPrintServiceFactory.filteredPageCount=this.filteredPageCount(this.PDFViewerApplication?.pagesCount,e)):console.error("The print service hasn't been initialized yet.")}filteredPageCount(e,t){let o=0;for(let n=0;n<e;n++)this.isInPDFPrintRange(n,t)&&o++;return o}isInPDFPrintRange(e,t){const o=e+1;return!(t.from&&o<t.from||t.to&&o>t.to||t.excluded&&t.excluded.some(n=>n===o)||t.included&&!t.included.some(n=>n===o))}getPageAsLines(e){var t=this;return(0,m.Z)(function*(){if(t.PDFViewerApplication){const d=(yield(yield(t.PDFViewerApplication?.pdfDocument).getPage(e)).getTextContent()).items.filter(C=>!C.type);let p=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,g=0,A=0,P="",B=new Array;for(let C=0;C<d.length;C++){const x=d[C];if(!x.hasEOL){const w=x.transform[4],y=-x.transform[5],E=x.width,T=x.height;p=Math.min(p,w),l=Math.min(l,y),s=Math.max(s,w+E),c=Math.max(c,y+T),P+=x.str,"rtl"===x.dir&&A++,"ltr"===x.dir&&g++}if(C===d.length-1||x.hasEOL){let w;g>0&&A>0?w="both":g>0?w="ltr":A>0&&(w="rtl");const y={direction:w,x:p,y:l,width:s-p,height:c-l,text:P.trim()};B.push(y),p=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,g=0,A=0,P=""}}return B}return[]})()}getPageAsText(e){var t=this;return(0,m.Z)(function*(){if(!t.PDFViewerApplication)return"";const a=(yield(yield(t.PDFViewerApplication?.pdfDocument).getPage(e)).getTextContent()).items;return t.convertTextInfoToText(a)})()}convertTextInfoToText(e){return e?e.filter(t=>!t.type).map(t=>t.hasEOL?t.str+"\n":t.str).join(""):""}getPageAsCanvas(e,t,o,n="#FFFFFF",a=D.ENABLE){var d=this;return(0,m.Z)(function*(){if(!d.PDFViewerApplication)return Promise.resolve(void 0);const l=yield d.PDFViewerApplication.pdfDocument.getPage(e);return d.draw(l,t,o,n,a)})()}getPageAsImage(e,t,o,n="#FFFFFF",a=D.ENABLE){var d=this;return(0,m.Z)(function*(){return(yield d.getPageAsCanvas(e,t,o,n,a))?.toDataURL()})()}draw(e,t,o,n="#FFFFFF",a=D.ENABLE){var d=this;return(0,m.Z)(function*(){let p=1;t.scale?p=t.scale:t.width?p=t.width/e.getViewport({scale:1}).width:t.height&&(p=t.height/e.getViewport({scale:1}).height);const l=e.getViewport({scale:p}),{ctx:s,canvas:c}=d.getPageDrawContext(l.width,l.height),g=l.clone();return e.render({canvasContext:s,viewport:g,background:o,backgroundColorToReplace:n,annotationMode:a}).promise.then(()=>Promise.resolve(c))})()}getPageDrawContext(e,t){const o=document.createElement("canvas"),n=o.getContext("2d",{alpha:!0});if(!n)throw new Error("Couldn't create the 2d context");return o.width=e,o.height=t,this.renderer.setStyle(o,"width",`${e}px`),this.renderer.setStyle(o,"height",`${t}px`),{ctx:n,canvas:o}}getCurrentDocumentAsBlob(){var e=this;return(0,m.Z)(function*(){return(yield e.PDFViewerApplication?.export())||void 0})()}getFormData(e=!0){var t=this;return(0,m.Z)(function*(){if(!t.PDFViewerApplication)return[];const o=t.PDFViewerApplication?.pdfDocument,a=[];for(let d=1;d<=o?.numPages;d++){const p=yield o.getPage(d);(yield p.getAnnotations()).filter(s=>"Widget"===s.subtype).map(s=>({...s})).forEach(s=>{const c=p.getViewport({scale:1.3333333333333333}).convertToViewportRectangle(s.rect);if(e&&s.fieldName)try{if(s.exportValue){const g=t.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(s.id,s.fieldName+"/"+s.exportValue,"");s.value=g?.value}else if(s.radioButton){const g=t.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(s.id,s.fieldName+"/"+s.fieldValue,"");s.value=g?.value}else{const g=t.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(s.id,s.fieldName,"");s.value=g?.value}}catch{}a.push({fieldAnnotation:s,fieldRect:c,pageNumber:d})})}return a})()}addPageToRenderQueue(e){return this.PDFViewerApplication?.pdfViewer.addPageToRenderQueue(e)??!1}isRenderQueueEmpty(){return!this.PDFViewerApplication||!this.PDFViewerApplication.pdfViewer.renderingQueue.getHighestPriority(this.PDFViewerApplication?.pdfViewer._getVisiblePages(),this.PDFViewerApplication?.pdfViewer._pages,!0,!1)}hasPageBeenRendered(e){if(!this.PDFViewerApplication)return!1;const t=this.PDFViewerApplication?.pdfViewer._pages;return t.length>e&&e>=0&&3===t[e].renderingState}sleep(e){return new Promise(t=>setTimeout(t,e))}renderPage(e){var t=this;return(0,m.Z)(function*(){if(!t.hasPageBeenRendered(e))for(yield t.addPageToRenderQueue(e);!t.hasPageBeenRendered(e);)yield t.sleep(7)})()}currentlyRenderedPages(){return this.PDFViewerApplication?(this.PDFViewerApplication?.pdfViewer._pages).filter(t=>3===t.renderingState).map(t=>t.id):[]}numberOfPages(){return this.PDFViewerApplication?(this.PDFViewerApplication?.pdfViewer._pages).length:0}getCurrentlyVisiblePageNumbers(){const e=this.PDFViewerApplication;return e?e.pdfViewer._getVisiblePages().views?.map(o=>o.id):[]}listLayers(){var e=this;return(0,m.Z)(function*(){if(!e.PDFViewerApplication)return[];const t=yield e.PDFViewerApplication?.pdfViewer.optionalContentConfigPromise;return t?t.getOrder().filter(a=>"object"!=typeof a).map(a=>{const d=t.getGroup(a);return{layerId:a,name:d.name,visible:d.visible}}):void 0})()}toggleLayer(e){var t=this;return(0,m.Z)(function*(){if(!t.PDFViewerApplication)return;const o=yield t.PDFViewerApplication?.pdfViewer.optionalContentConfigPromise;if(o){let n=o.getGroup(e).visible;const a=document.querySelector(`input[id='${e}']`);a&&(n=a.checked,a.checked=!n),o.setVisibility(e,!n),t.PDFViewerApplication?.eventBus.dispatch("optionalcontentconfig",{source:t,promise:Promise.resolve(o)})}})()}scrollPageIntoView(e,t){this.PDFViewerApplication?.pdfViewer?.scrollPagePosIntoView(e,t)}getSerializedAnnotations(){return this.PDFViewerApplication?.pdfViewer.getSerializedAnnotations()}addEditorAnnotation(e){var t=this;return(0,m.Z)(function*(){yield t.PDFViewerApplication?.pdfViewer.addEditorAnnotation(e)})()}removeEditorAnnotations(e){this.PDFViewerApplication?.pdfViewer.removeEditorAnnotations(e)}loadImageAsDataURL(e){return(0,m.Z)(function*(){if(e.startsWith("data:"))return e;const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch the image from ${e}: ${t.statusText}`);return yield t.blob()})()}addImageToAnnotationLayer({urlOrDataUrl:e,page:t,left:o,bottom:n,right:a,top:d,rotation:p}){var l=this;return(0,m.Z)(function*(){if(!l.PDFViewerApplication)return void console.error("The PDF viewer has not been initialized yet.");let s;void 0!==t?(t!==l.currentPageIndex()&&(yield l.renderPage(t)),s=t):s=l.currentPageIndex()??0;const c=l.PDFViewerApplication.pdfViewer.annotationEditorMode;l.switchAnnotationEdtorMode(13);const g=yield l.loadImageAsDataURL(e),A=l.PDFViewerApplication.pdfViewer._pages[s].pdfPage.view,F=A[2]-A[0],w=A[3]-A[1],y=l.PDFViewerApplication?.pdfViewer._pages[s].div.clientWidth,E=l.PDFViewerApplication?.pdfViewer._pages[s].div.clientHeight,T=l.convertToPDFCoordinates(o,F,0,y),ve=l.convertToPDFCoordinates(n,w,0,E),be=l.convertToPDFCoordinates(a,F,F,y),Ce=l.convertToPDFCoordinates(d,w,w,E);l.addEditorAnnotation({annotationType:13,pageIndex:s,bitmapUrl:g,rect:[T,ve,be,Ce],rotation:p??0}),yield l.sleep(10),l.switchAnnotationEdtorMode(c)})()}currentPageIndex(){const e=this.PDFViewerApplication?.pdfViewer;if(e)return e.currentPageNumber-1}convertToPDFCoordinates(e,t,o,n){return e?"string"==typeof e?e.endsWith("%")?parseInt(e,10)/100*t:e.endsWith("px")?parseInt(e,10)*(t/n):parseInt(e,10):e:o}switchAnnotationEdtorMode(e){this.PDFViewerApplication?.eventBus.dispatch("switchannotationeditormode",{mode:e})}set editorFontSize(e){this.setEditorProperty(11,e)}set editorFontColor(e){this.setEditorProperty(12,e)}set editorInkColor(e){this.setEditorProperty(21,e)}set editorInkOpacity(e){this.setEditorProperty(23,e)}set editorInkThickness(e){this.setEditorProperty(22,e)}set editorHighlightColor(e){this.setEditorProperty(31,e)}set editorHighlightDefaultColor(e){this.setEditorProperty(32,e)}set editorHighlightShowAll(e){this.setEditorProperty(35,e)}set editorHighlightThickness(e){this.setEditorProperty(33,e)}setEditorProperty(e,t){this.PDFViewerApplication?.eventBus.dispatch("switchannotationeditorparams",{type:e,value:t}),this.PDFViewerApplication?.eventBus.dispatch("annotationeditorparamschanged",{details:[[e,t]]})}static \u0275fac=function(t){return new(t||i)(h.LFG(h.FYo),h.LFG(fe))};static \u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();Promise.allSettled||window.Zone&&!window["__zone_symbol__Promise.allSettled"]&&console.error("Please update zone.js to version 0.10.3 or higher. Otherwise, you'll run the slow ECMAScript 5 version even on modern browser that can run the fast ESMAScript 2015 version.");let Ae=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=h.oAB({type:i});static \u0275inj=h.cJS({providers:[he],imports:[V.ez,W.u5]})}return i})();var me=f(6760),xe=f(3949);let we=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=h.oAB({type:i});static#i=this.\u0275inj=h.cJS({imports:[V.ez,I,H.$,j,G.hJ,U.EV,J.j,Y.U,Ae,me._8,xe.xC]})}return i})()}}]);