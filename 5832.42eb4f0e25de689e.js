"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[5832],{5832:(A,f,l)=>{l.r(f),l.d(f,{CrudModule:()=>z});var s=l(6814),m=l(95),_=l(2129),h=l(5219),t=l(9467),c=l(981),v=l(9664),p=l(707),d=l(4480),g=l(4104),C=l(3714),T=l(6218),x=l(3965),M=l(1865),y=l(5167),b=l(7213);function S(o,a){1&o&&(t.TgZ(0,"tr")(1,"th",14),t._uU(2," - "),t.qZA(),t.TgZ(3,"th",15),t._uU(4,"Name "),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Document Count"),t.qZA(),t.TgZ(7,"th",16),t._uU(8,"Matching "),t.qZA(),t.TgZ(9,"th",17),t._uU(10,"Action "),t.qZA(),t._UZ(11,"th"),t.qZA())}function D(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"p-tableCheckbox",18),t.qZA(),t.TgZ(3,"td")(4,"span",19),t._uU(5,"Name"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"span",20),t._uU(9," 124 "),t.qZA(),t.TgZ(10,"td")(11,"span",19),t._uU(12,"Matching"),t.qZA(),t._uU(13," ANY: Financial,President "),t.qZA(),t.TgZ(14,"td")(15,"div",21)(16,"button",22),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.editProduct(r))}),t.qZA(),t.TgZ(17,"button",23),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.deleteProduct(r))}),t.qZA()()()()}if(2&o){const e=a.$implicit;t.xp6(2),t.Q6J("value",e),t.xp6(4),t.hij(" ",e.name," ")}}function J(o,a){1&o&&(t.TgZ(0,"small",50),t._uU(1,"Name is required."),t.qZA())}function N(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Tol("product-badge status-"+e.product.inventoryStatus.toString().toLowerCase()),t.xp6(1),t.Oqu(e.product.inventoryStatus)}}function U(o,a){if(1&o&&t.YNc(0,N,2,3,"span",51),2&o){const e=t.oxw(2);t.Q6J("ngIf",e.product&&e.product.inventoryStatus)}}function q(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Tol("product-badge status-"+e.value),t.xp6(1),t.Oqu(e.label)}}const P=o=>({"ng-invalid ng-dirty":o});function I(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"label",25),t._uU(2,"Name"),t.qZA(),t.TgZ(3,"input",26),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.name=n)}),t.qZA(),t.YNc(4,J,2,0,"small",27),t.qZA(),t.TgZ(5,"div",24)(6,"label",28),t._uU(7,"Description"),t.qZA(),t.TgZ(8,"textarea",29),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.description=n)}),t.qZA()(),t.TgZ(9,"div",24)(10,"label",30),t._uU(11,"Inventory Status"),t.qZA(),t.TgZ(12,"p-dropdown",31),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.inventoryStatus=n)}),t.YNc(13,U,1,1,"ng-template",32)(14,q,2,3,"ng-template",33),t.qZA()(),t.TgZ(15,"div",24)(16,"label",34),t._uU(17,"Category"),t.qZA(),t.TgZ(18,"div",35)(19,"div",36)(20,"p-radioButton",37),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=n)}),t.qZA(),t.TgZ(21,"label",38),t._uU(22,"Accessories"),t.qZA()(),t.TgZ(23,"div",36)(24,"p-radioButton",39),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=n)}),t.qZA(),t.TgZ(25,"label",40),t._uU(26,"Clothing"),t.qZA()(),t.TgZ(27,"div",36)(28,"p-radioButton",41),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=n)}),t.qZA(),t.TgZ(29,"label",42),t._uU(30,"Electronics"),t.qZA()(),t.TgZ(31,"div",36)(32,"p-radioButton",43),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=n)}),t.qZA(),t.TgZ(33,"label",44),t._uU(34,"Fitness"),t.qZA()()()(),t.TgZ(35,"div",35)(36,"div",45)(37,"label",46),t._uU(38,"Price"),t.qZA(),t.TgZ(39,"p-inputNumber",47),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.price=n)}),t.qZA()(),t.TgZ(40,"div",45)(41,"label",48),t._uU(42,"Quantity"),t.qZA(),t.TgZ(43,"p-inputNumber",49),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.product.quantity=n)}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.product.name)("ngClass",t.VKq(12,P,e.submitted&&!e.product.name)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.name),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(4),t.Q6J("ngModel",e.product.inventoryStatus)("options",e.statuses),t.xp6(8),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.category),t.xp6(7),t.Q6J("ngModel",e.product.price),t.xp6(4),t.Q6J("ngModel",e.product.quantity)}}function B(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.hideDialog())}),t.qZA(),t.TgZ(1,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.saveProduct())}),t.qZA()}}function w(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1,"Are you sure you want to delete "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4,"?"),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.product.name)}}function E(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.deleteProductDialog=!1)}),t.qZA(),t.TgZ(1,"button",55),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.confirmDelete())}),t.qZA()}}function H(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.deleteProductsDialog=!1)}),t.qZA(),t.TgZ(1,"button",55),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.confirmDeleteSelected())}),t.qZA()}}const Z=()=>({width:"450px"});let K=(()=>{class o{constructor(e,i){this.productService=e,this.messageService=i,this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.statuses=[]}ngOnInit(){this.productService.getProductsSmall().then(e=>this.products=e),this.cols=[{field:"product",header:"Product"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}],this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(e){this.product={...e},this.productDialog=!0}deleteProduct(e){this.deleteProductDialog=!0,this.product={...e}}confirmDeleteSelected(){this.deleteProductsDialog=!1,this.products=this.products.filter(e=>!this.selectedProducts.includes(e)),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3}),this.selectedProducts=[]}confirmDelete(){this.deleteProductDialog=!1,this.products=this.products.filter(e=>e.id!==this.product.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.product={}}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.name?.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(e){let i=-1;for(let n=0;n<this.products.length;n++)if(this.products[n].id===e){i=n;break}return i}createId(){let e="";for(let n=0;n<5;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(c.M),t.Y36(h.ez))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([h.ez])],decls:22,vars:22,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-8","py-10"],["responsiveLayout","scroll","selectionMode","multiple","dataKey","id",3,"value","columns","rows","paginator","selection","rowHover","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body","class","p-0"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content","class","mt-2"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[2,"width","3rem"],["pSortableColumn","name"],["pSortableColumn","price"],["pSortableColumn","category"],[3,"value"],[1,"p-column-title"],[1,"p-column-title","text-center"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","status"],["inputId","inventoryStatus","optionValue","label","placeholder","Select",3,"ngModel","options","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"mb-3"],[1,"formgrid","grid"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","Accessories",3,"ngModel","ngModelChange"],["for","category1"],["id","category2","name","category","value","Clothing",3,"ngModel","ngModelChange"],["for","category2"],["id","category3","name","category","value","Electronics",3,"ngModel","ngModelChange"],["for","category3"],["id","category4","name","category","value","Fitness",3,"ngModel","ngModelChange"],["for","category4"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","USD","locale","en-US",3,"ngModel","ngModelChange"],["for","quantity"],["id","quantity",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],[3,"class",4,"ngIf"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-table",3,4),t.NdJ("selectionChange",function(u){return n.selectedProducts=u}),t.YNc(6,S,12,0,"ng-template",5)(7,D,18,2,"ng-template",6),t.qZA()(),t.TgZ(8,"p-dialog",7),t.NdJ("visibleChange",function(u){return n.productDialog=u}),t.YNc(9,I,44,14,"ng-template",8)(10,B,2,0,"ng-template",9),t.qZA(),t.TgZ(11,"p-dialog",10),t.NdJ("visibleChange",function(u){return n.deleteProductDialog=u}),t.TgZ(12,"div",11),t._UZ(13,"i",12),t.YNc(14,w,5,1,"span",13),t.qZA(),t.YNc(15,E,2,0,"ng-template",9),t.qZA(),t.TgZ(16,"p-dialog",10),t.NdJ("visibleChange",function(u){return n.deleteProductsDialog=u}),t.TgZ(17,"div",11),t._UZ(18,"i",12),t.TgZ(19,"span"),t._uU(20,"Are you sure you want to delete selected products?"),t.qZA()(),t.YNc(21,H,2,0,"ng-template",9),t.qZA()()()),2&i&&(t.xp6(4),t.Q6J("value",n.products)("columns",n.cols)("rows",10)("paginator",!0)("selection",n.selectedProducts)("rowHover",!0),t.xp6(4),t.Akn(t.DdM(19,Z)),t.Q6J("visible",n.productDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(20,Z)),t.Q6J("visible",n.deleteProductDialog)("modal",!0),t.xp6(3),t.Q6J("ngIf",n.product),t.xp6(2),t.Akn(t.DdM(21,Z)),t.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[s.mk,s.O5,v.iA,h.jx,v.lQ,v.UA,p.Hq,m.Fj,m.JJ,m.Q7,m.On,d.H,g.FN,C.o,T.g,x.Lt,M.EU,y.Rn,b.V],encapsulation:2})}return o})(),O=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[_.Bz.forChild([{path:"",component:K}]),_.Bz]})}return o})();var F=l(3722),R=l(6340),k=l(6022);let z=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[s.ez,O,v.U$,F.O,m.u5,p.hJ,d.T,g.EV,R.V,k.Xt,C.j,T.A,x.kW,M.cc,y.L$,b.S]})}return o})()},6218:(A,f,l)=>{l.d(f,{A:()=>t,g:()=>h});var s=l(9467),m=l(6814),_=l(95);let h=(()=>{class c{el;ngModel;control;cd;autoResize;onResize=new s.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(p,d,g,C){this.el=p,this.ngModel=d,this.control=g,this.cd=C}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(p){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(p){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(p||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(d){return new(d||c)(s.Y36(s.SBq),s.Y36(_.On,8),s.Y36(_.a5,8),s.Y36(s.sBO))};static \u0275dir=s.lG2({type:c,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(d,g){1&d&&s.NdJ("input",function(T){return g.onInput(T)}),2&d&&s.ekj("p-filled",g.filled)("p-inputtextarea-resizable",g.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return c})(),t=(()=>{class c{static \u0275fac=function(d){return new(d||c)};static \u0275mod=s.oAB({type:c});static \u0275inj=s.cJS({imports:[m.ez]})}return c})()}}]);